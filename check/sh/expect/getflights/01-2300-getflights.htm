<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<title>getflights &middot; debug output</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<meta name="author" content="Tobias Kühne">
</head>
<body>
<pre>
arrival
http://localhost/.../flugplan/airportcity?type=arrival&typ=p&context=0&sprache=de&items=3&init=true&page=1
http://localhost/.../flugplan/airportcity?type=arrival&typ=p&context=0&sprache=de&items=3&usepager=true&page=2
http://localhost/.../flugplan/airportcity?type=arrival&typ=p&context=0&sprache=de&items=3&usepager=true&page=3
http://localhost/.../flugplan/airportcity?type=arrival&typ=p&context=0&sprache=de&items=3&usepager=true&page=4
http://localhost/.../flugplan/airportcity?type=arrival&typ=p&context=0&sprache=de&items=3&usepager=true&page=5
http://localhost/.../flugplan/airportcity?type=arrival&typ=p&context=0&sprache=de&items=3&usepager=true&page=6

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='TP';
=113
SELECT `id` FROM `airlines` WHERE `code`='TP';
=113
SELECT `id` FROM `models` WHERE `icao`='A320';
=9
SELECT `id` FROM `aircrafts` WHERE `reg`='CS-TNP';
=7
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='arrival' AND `airline`=113 AND `code`='578' AND `scheduled`='0000-00-01 22:30'
=48,7
UPDATE `flights` SET `aircraft`=7,`model`=9 WHERE `id`=48;
=OK
SELECT `num`, `current`, `previous` FROM `visits` WHERE `aircraft`=7;
=6,0000-00-01 22:30:00,0000-00-01 18:25:00

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='SA';
=99
SELECT `id` FROM `airlines` WHERE `code`='SA';
=99
SELECT `id` FROM `models` WHERE `icao`='A346';
=19
SELECT `id` FROM `aircrafts` WHERE `reg`='ZS-SNB';
=13
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='arrival' AND `airline`=99 AND `code`='260' AND `scheduled`='0000-00-02 06:15'
=49,1
UPDATE `flights` SET `aircraft`=13,`model`=19 WHERE `id`=49;
=OK
SELECT `num`, `current`, `previous` FROM `visits` WHERE `aircraft`=1;
=2,0000-00-02 06:15:00,0000-00-00 06:15:00
UPDATE `visits` SET `num`=1, `current`='0000-00-00 06:15:00' WHERE `aircraft`=1
=OK
SELECT `num`, `current`, `previous` FROM `visits` WHERE `aircraft`=13;
=<empty>
INSERT INTO `visits`(`aircraft`, `num`, `current`, `previous`)VALUES(13, 1, '0000-00-02 06:15', NULL);
=OK

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='CX';
=24
SELECT `id` FROM `airlines` WHERE `code`='CX';
=24
SELECT `id` FROM `models` WHERE `icao`='B77W';
=68
SELECT `id` FROM `aircrafts` WHERE `reg`='B-KPE';
=2
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='arrival' AND `airline`=24 AND `code`='289' AND `scheduled`='0000-00-02 06:20'
=50,2
UPDATE `flights` SET `aircraft`=2,`model`=68 WHERE `id`=50;
=OK
SELECT `num`, `current`, `previous` FROM `visits` WHERE `aircraft`=2;
=2,0000-00-02 06:20:00,0000-00-00 06:20:00

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='AC';
=4
SELECT `id` FROM `airlines` WHERE `code`='AC';
=4
SELECT `id` FROM `models` WHERE `icao`='A333';
=14
SELECT `id` FROM `aircrafts` WHERE `reg`='C-GFAH';
=3
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='arrival' AND `airline`=4 AND `code`='874' AND `scheduled`='0000-00-02 07:00'
=52,
UPDATE `flights` SET `aircraft`=3,`model`=14 WHERE `id`=52;
=OK
SELECT `num`, `current`, `previous` FROM `visits` WHERE `aircraft`=3;
=2,0000-00-01 11:15:00,0000-00-00 07:00:00
UPDATE `visits` SET `num`=3, `current`='0000-00-02 07:00', `previous`='0000-00-01 11:15:00' WHERE `aircraft`=3
=OK

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='UA';
=120
SELECT `id` FROM `airlines` WHERE `code`='UA';
=120
SELECT `id` FROM `models` WHERE `icao`='B744';
=57
SELECT `id` FROM `aircrafts` WHERE `reg`='N116UA';
=4
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='arrival' AND `airline`=120 AND `code`='903' AND `scheduled`='0000-00-02 09:45'
=53,4
UPDATE `flights` SET `aircraft`=4,`model`=57 WHERE `id`=53;
=OK
SELECT `num`, `current`, `previous` FROM `visits` WHERE `aircraft`=4;
=2,0000-00-02 09:45:00,0000-00-00 09:45:00

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='TK';
=112
SELECT `id` FROM `airlines` WHERE `code`='TK';
=112
SELECT `id` FROM `models` WHERE `icao`='A343';
=17
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='arrival' AND `airline`=112 AND `code`='1587' AND `scheduled`='0000-00-02 10:40'
=54,
UPDATE `flights` SET `aircraft`=NULL,`model`=17 WHERE `id`=54;
=OK

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='AC';
=4
SELECT `id` FROM `airlines` WHERE `code`='AC';
=4
SELECT `id` FROM `models` WHERE `icao`='A333';
=14
SELECT `id` FROM `aircrafts` WHERE `reg`='C-GHLM';
=5
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='arrival' AND `airline`=4 AND `code`='844' AND `scheduled`='0000-00-02 11:15'
=56,
UPDATE `flights` SET `aircraft`=5,`model`=14 WHERE `id`=56;
=OK
SELECT `num`, `current`, `previous` FROM `visits` WHERE `aircraft`=5;
=2,0000-00-01 07:00:00,0000-00-00 11:15:00
UPDATE `visits` SET `num`=3, `current`='0000-00-02 11:15', `previous`='0000-00-01 07:00:00' WHERE `aircraft`=5
=OK

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='AC';
=4
SELECT `id` FROM `airlines` WHERE `code`='AC';
=4
SELECT `id` FROM `models` WHERE `icao`='A333';
=14
SELECT `id` FROM `aircrafts` WHERE `reg`='C-GHKW';
=6
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='arrival' AND `airline`=4 AND `code`='876' AND `scheduled`='0000-00-02 11:45'
=57,6
UPDATE `flights` SET `aircraft`=6,`model`=14 WHERE `id`=57;
=OK
SELECT `num`, `current`, `previous` FROM `visits` WHERE `aircraft`=6;
=3,0000-00-02 11:45:00,0000-00-01 11:45:00

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='TP';
=113
SELECT `id` FROM `airlines` WHERE `code`='TP';
=113
SELECT `id` FROM `models` WHERE `icao`='A320';
=9
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='arrival' AND `airline`=113 AND `code`='572' AND `scheduled`='0000-00-02 12:35'
=59,
UPDATE `flights` SET `aircraft`=NULL,`model`=9 WHERE `id`=59;
=OK

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='KU';
=63
SELECT `id` FROM `airlines` WHERE `code`='KU';
=63
SELECT `id` FROM `models` WHERE `icao`='A306';
=4
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='arrival' AND `airline`=63 AND `code`='171' AND `scheduled`='0000-00-02 13:20'
=62,
UPDATE `flights` SET `aircraft`=NULL,`model`=4 WHERE `id`=62;
=OK

/************************************/


/************************************/


/************************************/

SELECT `id` FROM `airlines` WHERE `code`='TP';
=113
SELECT `id` FROM `airlines` WHERE `code`='TP';
=113
SELECT `id` FROM `models` WHERE `icao`='A320';
=9
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='arrival' AND `airline`=113 AND `code`='576' AND `scheduled`='0000-00-02 18:25'
=67,
UPDATE `flights` SET `aircraft`=NULL,`model`=9 WHERE `id`=67;
=OK

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='SQ';
=105
SELECT `id` FROM `airlines` WHERE `code`='SQ';
=105
SELECT `id` FROM `models` WHERE `icao`='B77W';
=68
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='arrival' AND `airline`=105 AND `code`='326' AND `scheduled`='0000-00-02 20:30'
=69,
UPDATE `flights` SET `aircraft`=NULL,`model`=68 WHERE `id`=69;
=OK

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='TP';
=113
SELECT `id` FROM `airlines` WHERE `code`='TP';
=113
SELECT `id` FROM `models` WHERE `icao`='A320';
=9
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='arrival' AND `airline`=113 AND `code`='578' AND `scheduled`='0000-00-02 22:30'
=<empty>
INSERT INTO `flights` (`uid`, `type`, `direction`, `airline`, `code`, `scheduled`, `expected`, `aircraft`, `model`) VALUES(1, 'pax-regular', 'arrival', 113, '578', '0000-00-02 22:30', NULL, NULL, 9);
=OK

/************************************/

---------------------------
14 Flüge gefunden.
    Dauer: 0.000s

===========================

departure
http://localhost/.../flugplan/airportcity?type=departure&typ=p&context=0&sprache=de&items=3&init=true&page=1
http://localhost/.../flugplan/airportcity?type=departure&typ=p&context=0&sprache=de&items=3&usepager=true&page=2
http://localhost/.../flugplan/airportcity?type=departure&typ=p&context=0&sprache=de&items=3&usepager=true&page=3
http://localhost/.../flugplan/airportcity?type=departure&typ=p&context=0&sprache=de&items=3&usepager=true&page=4
http://localhost/.../flugplan/airportcity?type=departure&typ=p&context=0&sprache=de&items=3&usepager=true&page=5
SELECT `id` FROM `airlines` WHERE `code`='TP';
=113
SELECT `id` FROM `airlines` WHERE `code`='TP';
=113
SELECT `id` FROM `models` WHERE `icao`='A320';
=9
SELECT `id` FROM `aircrafts` WHERE `reg`='CS-TNP';
=7
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='departure' AND `airline`=113 AND `code`='571' AND `scheduled`='0000-00-02 06:20'
=51,
UPDATE `flights` SET `aircraft`=7,`model`=9 WHERE `id`=51;
=OK

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='AC';
=4
SELECT `id` FROM `airlines` WHERE `code`='AC';
=4
SELECT `id` FROM `models` WHERE `icao`='A333';
=14
SELECT `id` FROM `aircrafts` WHERE `reg`='C-GFAH';
=3
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='departure' AND `airline`=4 AND `code`='845' AND `scheduled`='0000-00-02 10:30'
=55,3
UPDATE `flights` SET `aircraft`=3,`model`=14 WHERE `id`=55;
=OK

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='TK';
=112
SELECT `id` FROM `airlines` WHERE `code`='TK';
=112
SELECT `id` FROM `models` WHERE `icao`='A343';
=17
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='departure' AND `airline`=112 AND `code`='1588' AND `scheduled`='0000-00-02 11:45'
=58,
UPDATE `flights` SET `aircraft`=NULL,`model`=17 WHERE `id`=58;
=OK

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='UA';
=120
SELECT `id` FROM `airlines` WHERE `code`='UA';
=120
SELECT `id` FROM `models` WHERE `icao`='B744';
=57
SELECT `id` FROM `aircrafts` WHERE `reg`='N116UA';
=4
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='departure' AND `airline`=120 AND `code`='902' AND `scheduled`='0000-00-02 12:15'
=60,4
UPDATE `flights` SET `aircraft`=4,`model`=57 WHERE `id`=60;
=OK

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='CX';
=24
SELECT `id` FROM `airlines` WHERE `code`='CX';
=24
SELECT `id` FROM `models` WHERE `icao`='B77W';
=68
SELECT `id` FROM `aircrafts` WHERE `reg`='B-KPE';
=2
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='departure' AND `airline`=24 AND `code`='288' AND `scheduled`='0000-00-02 12:55'
=61,2
UPDATE `flights` SET `aircraft`=2,`model`=68 WHERE `id`=61;
=OK

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='TP';
=113
SELECT `id` FROM `airlines` WHERE `code`='TP';
=113
SELECT `id` FROM `models` WHERE `icao`='A320';
=9
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='departure' AND `airline`=113 AND `code`='573' AND `scheduled`='0000-00-02 13:20'
=63,
UPDATE `flights` SET `aircraft`=NULL,`model`=9 WHERE `id`=63;
=OK

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='AC';
=4
SELECT `id` FROM `airlines` WHERE `code`='AC';
=4
SELECT `id` FROM `models` WHERE `icao`='A333';
=14
SELECT `id` FROM `aircrafts` WHERE `reg`='C-GHLM';
=5
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='departure' AND `airline`=4 AND `code`='875' AND `scheduled`='0000-00-02 13:30'
=64,
UPDATE `flights` SET `aircraft`=5,`model`=14 WHERE `id`=64;
=OK

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='KU';
=63
SELECT `id` FROM `airlines` WHERE `code`='KU';
=63
SELECT `id` FROM `models` WHERE `icao`='A306';
=4
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='departure' AND `airline`=63 AND `code`='172' AND `scheduled`='0000-00-02 14:30'
=65,
UPDATE `flights` SET `aircraft`=NULL,`model`=4 WHERE `id`=65;
=OK

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='AC';
=4
SELECT `id` FROM `airlines` WHERE `code`='AC';
=4
SELECT `id` FROM `models` WHERE `icao`='A333';
=14
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='departure' AND `airline`=4 AND `code`='877' AND `scheduled`='0000-00-02 17:00'
=66,
UPDATE `flights` SET `aircraft`=NULL,`model`=14 WHERE `id`=66;
=OK

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='TP';
=113
SELECT `id` FROM `airlines` WHERE `code`='TP';
=113
SELECT `id` FROM `models` WHERE `icao`='A320';
=9
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='departure' AND `airline`=113 AND `code`='579' AND `scheduled`='0000-00-02 19:10'
=68,
UPDATE `flights` SET `aircraft`=NULL,`model`=9 WHERE `id`=68;
=OK

/************************************/

SELECT `id` FROM `airlines` WHERE `code`='SA';
=99
SELECT `id` FROM `airlines` WHERE `code`='SA';
=99
SELECT `id` FROM `models` WHERE `icao`='A346';
=19
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='departure' AND `airline`=99 AND `code`='261' AND `scheduled`='0000-00-02 20:45'
=70,
UPDATE `flights` SET `aircraft`=NULL,`model`=19 WHERE `id`=70;
=OK

/************************************/


/************************************/

SELECT `id` FROM `airlines` WHERE `code`='SQ';
=105
SELECT `id` FROM `airlines` WHERE `code`='SQ';
=105
SELECT `id` FROM `models` WHERE `icao`='B77W';
=68
SELECT `id`, `aircraft` FROM `flights` WHERE `direction`='departure' AND `airline`=105 AND `code`='325' AND `scheduled`='0000-00-02 21:55'
=71,
UPDATE `flights` SET `aircraft`=NULL,`model`=68 WHERE `id`=71;
=OK

/************************************/

---------------------------
12 Flüge gefunden.
    Dauer: 0.000s

===========================

SELECT `flights`.`id`, `airlines`.`code`, `flights`.`code`, `flights`.`scheduled`, `flights`.`direction` FROM `flights` LEFT JOIN `airlines` ON `flights`.`airline` = `airlines`.`id` WHERE `airport` IS NULL AND  (`scheduled` >= '0000-00-01 23:00:00'  OR `expected` >= '0000-00-01 23:00:00'  OR (TIME_TO_SEC(TIMEDIFF('0000-00-01 23:00:00', `scheduled`)) / 60 / 60) < 2) ORDER BY `scheduled`;
=72,...
http://localhost/.../flugplan/airportcity?fia=TP57800000002
SELECT `airports`.`id` FROM `airports` WHERE `iata`='LIS' AND `icao`='LPPT';
=136
UPDATE `flights` SET `airport`=136 WHERE `id`=72;
=OK


=== fin. ===
</pre>
</body>
</html>
